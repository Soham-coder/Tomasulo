16337269 颜彬 
16337237 王永锋
# 1. 选题及主要工作
基于Tomasolu算法的乱序执行多周期CPU的实现（采用verilog语言）


# 2. Tomasolu算法简单介绍
1. 目前的CPU的局限主要在于各种冲突带来的CPU停顿时间所导致的性能限制。而tomasolu算法主要针对数据冲突进行了优化，让指令能够做到乱序执行，数据无关的指令尽早运行，数据相关的指令在解决相关性后马上运行,从而让ALU一直处于工作状态，减少了CPU停顿时间
2. 该算法的创新点有两个
    1. 使用寄存器换名技术
  2. 使用数据总线发送数据，每一个寄存器和保留站会在每一个时钟上升沿都根据数据总线的信号更新自身的状态
3. 在数据通路图上，该算法如此实现（展示数据通路）
  1. 每一条指令的运行过程：更新PC-指令发射-执行-广播写回
  1. 指令流入保留站，并更新寄存器的状态表
      1. 已就绪的操作数，直接从寄存器读进来，从而与寄存器文件解耦合
      2. 对于操作数未就绪的指令，在保留站中等待数据写入
  2. 由保留站确定并发射当前操作数**就绪**指令给ALU执行
      1. 谁先准备好谁发射,如果没有准备
  3. ALU执行后，将数据发送到公共数据总线上，各保留站和寄存器根据公共数据总线的信息决定是否更新自身数值
  （此过程，保留站中一些需要等待操作数写入指令的就会进入就绪状态）


# 3. 使用硬件实现Tomasolu算法，技术难点
[ShingPoint][sp]

# 4. 效果评价，分析
  在现在tomasolu算法资料相当匮乏的情况下，我们仅凭书本还有维基百科上的介绍，先是证明了算法的正确性，然后进行硬件的模块设计，时序设计，
  其中硬件的整体架构，参考了书本的结构图，而硬件的接口设计以及时序设计,网上找不到成熟的教程，都是我们从零开始，一步一步摸索实现出来的。
  在这个过程中，我们也踩了很多坑，也认识到硬件设计中时序设计的困难。
  希望我们完成的这一个项目，不是这个CPU设计的结束，而是乱序执行CPU实现的起点，我们需要进一步完善模块的接口设计，我们也还有很多工作需要做（todo list）, 我希望，这一个有着详尽文档的设计项目，能够给之后的同学启发，在此基础上，实现分支预测，实现前瞻执行等特性。

# 5. 参考资料
1. 张晨曦 《计算机体系结构》
2. 维基百科，Tomasulo Algorithm


[sp]:ShiningPoint.md